<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Past Trips
    </ion-title>
  </ion-toolbar>
</ion-header>

  <ion-content>

    <ion-card *ngFor="let trip of allTripsData | keyvalue;">

      <div *ngIf="(trip.value.startDate | date: 'yyyy-MM-dd') < (todaysDate | date: 'yyyy-MM-dd')">

        <ion-card-header>
          <ion-card-title>{{trip.key}}</ion-card-title>
        </ion-card-header>

        <ion-item class="ion-activated">
          <ion-icon name="business-outline" slot="start"></ion-icon>
          <ion-label>{{trip.value.city}}</ion-label>
        </ion-item>
      
        <ion-item>
          <ion-icon name="location-outline" slot="start"></ion-icon>
          <ion-label>{{trip.value.country}}</ion-label>
        </ion-item>
      
        <ion-item class="ion-activated">
          <ion-icon name="happy-outline" slot="start"></ion-icon>
          <ion-label>{{trip.value.startDate | date: "yyyy-MM-dd"}}</ion-label>
        </ion-item>
      
        <ion-item>
          <ion-icon name="walk" slot="start"></ion-icon>
          <ion-label>{{trip.value.endDate | date: "yyyy-MM-dd"}}</ion-label>
        </ion-item>

        <ion-card-content>{{trip.value.notes}}</ion-card-content>

        <div class="ion-padding">
          <ion-button expand="block" class="ion-no-margin" (click)="infoModal(trip.key)">More Details</ion-button>
        </div>

      </div>

    </ion-card>

    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

</ion-content>
